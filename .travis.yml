language: php
sudo: required

cache:
  apt: true
  directories:
  - "$HOME/.composer/cache"
  - "$HOME/.drush/cache"
  - "$HOME/.npm"

php:
  - 7.2

branches:
  only:
    - /^8\.([0-9]+|x)\-[0-9]+\.([0-9]+|x)$/

env:
  matrix:
    - THUNDER_TRAVIS_PROJECT_BASEDIR=${TRAVIS_BUILD_DIR}/vendor/drupal/select2
    - THUNDER_TRAVIS_PROJECT_BASEDIR=${TRAVIS_BUILD_DIR}/vendor/drupal/paragraphs_features
  global:
  - PATH="${TRAVIS_BUILD_DIR}/bin:$PATH"

before_install:
  - composer require drupal/select2:dev-feature/new-travis-integration
  - composer require drupal/paragraphs_features:dev-8.x-1.x

script:
  - test-drupal-module

notifications:
  email: false
